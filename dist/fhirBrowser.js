(()=>{var __webpack_modules__={70:()=>{customElements.define("app-bar",class extends HTMLElement{constructor(){super(),this._shadow=this.attachShadow({mode:"closed"}),this._shadow.appendChild(e.content.cloneNode(!0))}});const e=document.createElement("template");e.innerHTML='\n    <style>\n        main {\n            align-items: center;\n            display: flex;\n            flex-direction: row;\n            padding: 0.5em;\n        }\n        #barMiddle {\n            flex-grow: 1;\n            margin:0;\n            overflow: hidden;\n            padding-left: 0.5em;\n            text-overflow: ellipsis;\n        }\n        #barRight {\n            white-space: nowrap;\n        }\n    </style>\n    <main>\n        <div id="barLeft"><slot name="left"></slot></div>\n        <div id="barMiddle"><slot name="middle"></slot></div>\n        <div id="barRight"><slot name="right"></slot></div>\n    </main>\n'},248:()=>{customElements.define("app-circular-progress",class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"closed"}).appendChild(e.content.cloneNode(!0))}});const e=document.createElement("template");e.innerHTML="\n    <style>\n        main {\n            height: 0.70em;\n            width: 0.70em;\n            color: var(--primary-color);\n            display: inline-block;\n            border: 0.15em solid;\n            border-radius: 50%;\n            border-top-color: transparent;\n            animation: rotate 1s linear infinite;\n        }\n\n        @keyframes rotate {\n            0% {transform: rotate(0);}\n            100% {transform: rotate(360deg);}\n        }\n    </style>\n    <main/>\n"},444:()=>{customElements.define("app-data-table",class extends HTMLElement{constructor(){super(),this.rowClickEvent=new CustomEvent("rowclick",{bubbles:!1,cancelable:!1});const t=this.attachShadow({mode:"open"});t.appendChild(e.content.cloneNode(!0)),this._header=t.getElementById("header"),this._body=t.getElementById("body"),this._footerCell=t.getElementById("footer")}addColumn(e){let t=document.createElement("th"),n=document.createTextNode(e);t.appendChild(n),this._header.appendChild(t),this._footerCell.colSpan=this._header.childElementCount}addRow(e,t){let n=document.createElement("tr");n.id=e;for(const[,e]of Object.entries(t))n.insertAdjacentHTML("beforeend",`<td>${e}</td>`);n.addEventListener("click",function(e){let t=this._body.querySelector(".selected");t&&t.classList.remove("selected");let n=e.target;for(;n&&"TR"!==n.nodeName;)n=n.parentNode;n&&(n.classList.add("selected"),this.dispatchEvent(new CustomEvent("rowclick",{bubbles:!1,cancelable:!1,detail:{resourceId:n.id}}))),e.stopPropagation()}.bind(this)),this._body.appendChild(n)}clear(){for(;this._header.firstChild;)this._header.removeChild(this._header.lastChild);this.removeAll()}removeAll(){for(;this._body.firstChild;)this._body.removeChild(this._body.lastChild)}});const e=document.createElement("template");e.innerHTML='\n    <link href="./material.css" rel="stylesheet"/>\n    <style>\n        div {\n            background-color: var(--background-color, white);\n            border: 1px solid var(--border-color, gray);\n            border-radius: 4px;\n            height:100%;\n        }\n        table {\n            border: 0;\n            white-space: nowrap;\n            border-collapse: collapse;\n            display:flex;\n            flex-direction:column;\n            height:100%;\n        }\n        thead, tbody tr, tfoot {\n            display:table;\n            width:100%;\n            table-layout:fixed;\n        }\n        thead {\n            width: calc( 100% - 5px );\n        }\n        th {\n            text-align: left;\n            height: 56px;\n            padding-right: 16px;\n            padding-left: 16px;\n            overflow:hidden;\n        }\n        tbody {\n            border-top: 1px solid var(--border-color, gray);\n            display:block;\n            overflow-y:auto;\n            flex: 1 1 auto;\n        }\n        tbody tr {\n            cursor:pointer;\n            border-bottom: 1px solid var(--border-color, gray);\n        }\n        tbody tr:hover, tbody tr.selected {\n            background-color: var(--hover-color, rgba(0, 0, 0, 5%));\n        }\n        tbody td {\n            height: 52px;\n            padding-right: 16px;\n            padding-left: 16px;\n            overflow:hidden;\n            text-overflow: ellipsis;\n            direction: rtl;\n            text-align: left;\n        }\n        tfoot {\n            border-top: 1px solid var(--border-color, gray);\n        }\n        tfoot td {\n            text-align: right;\n            overflow: hidden;\n        }\n    </style>\n    <div>\n        <table>\n            <thead>\n                <tr id="header"></tr>\n            </thead>\n            <tbody id="body">\n            </tbody>\n            <tfoot>\n                <tr>\n                    <td id="footer">\n                        <slot name="footer"/>\n                    </td>\n                </tr>\n            </tfoot>\n        </table>\n    </div>\n'},41:()=>{customElements.define("app-data-table-pagination",class extends HTMLElement{constructor(){super(),this._shadow=this.attachShadow({mode:"closed"}),this._shadow.appendChild(e.content.cloneNode(!0))}connectedCallback(){this._shadow.getElementById("wrapper").addEventListener("click",(e=>{let t=e.target;for(;t&&"BUTTON"!==t.nodeName;)t=t.parentNode;t&&!t.disabled&&this.dispatchEvent(new CustomEvent("pagination",{bubbles:!1,cancelable:!1,detail:{button:t.id}}))}))}set first(e){this._shadow.getElementById("first").disabled=!e}set previous(e){this._shadow.getElementById("previous").disabled=!e}set next(e){this._shadow.getElementById("next").disabled=!e}set last(e){this._shadow.getElementById("last").disabled=!e}set text(e){this._shadow.getElementById("text").innerText=e}});const e=document.createElement("template");e.innerHTML='\n    <link rel="stylesheet" href="./material.css">\n    <style>\n        #wrapper {\n            padding: 12px;\n            font-family: inherit;\n            font-size: .875rem;\n        }\n        button {\n            border:0;\n            background:none;\n            vertical-align:middle;\n            cursor:pointer;\n            color:var(--text-color-normal);\n        }\n        button[disabled] {\n            cursor: default;\n            color:var(--text-color-disabled);\n        }\n        span {\n            vertical-align:middle;\n            margin: 0 24px;\n        }\n    </style>\n    <div id="wrapper">\n        <span id="text"></span>\n        <button id="first" title="first" disabled><i class="material-icons">first_page</i></button>\n        <button id="previous" title="previous" disabled><i class="material-icons">chevron_left</i></button>\n        <button id="next" title="next" disabled><i class="material-icons">chevron_right</i></button>\n        <button id="last" title="last" disabled><i class="material-icons">last_page</i></button>\n    </div>\n'},245:()=>{customElements.define("app-linear-progress",class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"closed"}).appendChild(e.content.cloneNode(!0))}});const e=document.createElement("template");e.innerHTML='\n    <style>\n        main {\n            background-color: var(--border-color);\n            overflow: hidden;\n        }\n        .thumb {\n            height: 0.1em;\n            width: 50%;\n            background-color: var(--primary-color);\n            left: -50%;\n            position: relative;\n            animation: loading 2s ease-in 0.5s infinite;\n        }\n        @keyframes loading {\n            0% {transform:translateX(0)}\n            to {transform:translateX(400%)}\n        }\n    </style>\n    <main>\n        <div class="thumb" />\n    </main>\n'},910:()=>{customElements.define("app-list-item",class extends HTMLElement{constructor(){super(),this._shadow=this.attachShadow({mode:"closed"}),this._shadow.appendChild(e.content.cloneNode(!0))}});const e=document.createElement("template");e.innerHTML='\n    <style>\n        main {\n            padding: 0.5em 1em;\n            background-color: inherit;\n        }\n        main:hover {\n            background-color: var(--hover-color, rgba(0, 0, 0, 5%));\n        }\n        #title {\n            text-overflow: ellipsis;\n            white-space: nowrap;\n            overflow: hidden;\n            text-transform: capitalize;\n            color: var(--text-color-normal, black);\n        }\n        #subTitle {\n            font-size: 0.875em;\n            color: rgba(var(--text-color, "0, 0, 0"), 54%);\n            overflow-wrap: break-word;\n        }\n    </style>\n    <main>\n        <div id="title"><slot name="title"></slot></div>\n        <div id="subTitle"><slot name="subTitle"></slot></div>\n    </main>\n'},586:()=>{customElements.define("app-round-button",class extends HTMLElement{constructor(){super(),this._shadow=this.attachShadow({mode:"closed"}),this._shadow.appendChild(e.content.cloneNode(!0))}static get observedAttributes(){return["app-icon"]}attributeChangedCallback(e,t,n){"app-icon"===e&&(this._shadow.querySelector("main").innerText=n)}});const e=document.createElement("template");e.innerHTML='\n    <link href="./material.css" rel="stylesheet"/>\n    <style>\n        main {\n            padding:8px;\n            cursor:pointer;\n            text-align:center;\n            border:0 none;\n            color: inherit;\n            background-color:transparent;\n        }\n        main:hover {\n            background-color:var(--hover-color, rgba(0,0,0,5%));\n            border-radius: 50%;\n        }\n    </style>\n    <main class="material-icons"/>\n'},567:()=>{customElements.define("app-tab",class extends HTMLElement{constructor(){super(),this._shadow=this.attachShadow({mode:"closed"}),this._shadow.appendChild(e.content.cloneNode(!0))}connectedCallback(){this._shadow.querySelector("main").innerHTML=this.innerHTML}});const e=document.createElement("template");e.innerHTML="\n    <style>\n        main {\n            background-color: transparent;\n            color: inherit;\n            cursor: pointer;\n            font: inherit;\n            height: 3em;\n            line-height: 3em;\n            text-transform: uppercase;\n            text-align: center;\n            white-space: nowrap;\n            width:100%;\n        }\n    </style>\n    <main></main>\n"},187:()=>{customElements.define("app-tabs",class extends HTMLElement{constructor(){super(),this._shadow=this.attachShadow({mode:"closed"}),this._shadow.appendChild(e.content.cloneNode(!0))}connectedCallback(){this._shadow.querySelector("main").onclick=e=>{"APP-TAB"===e.target.nodeName&&(this.select(e.target.id),e.stopPropagation())}}select(e){const t=this._shadow.querySelector("slot").assignedElements().filter((t=>t.id===e))[0];t&&(this._shadow.querySelector("slot").assignedElements().forEach((e=>e.removeAttribute("selected"))),t.setAttribute("selected","selected"),this.dispatchEvent(new CustomEvent("click",{bubbles:!1,cancelable:!1,detail:{tabId:e}})))}});const e=document.createElement("template");e.innerHTML="\n    <style>\n        main {\n            display:flex;\n            flex-direction:row;\n            flex-wrap: nowrap;\n        }\n        ::slotted(app-tab) {\n            flex-grow:1;\n            border-bottom: 2px solid transparent;\n            font-size: smaller;\n        }\n        ::slotted(app-tab:hover) {\n            background-color:var(--hover-color, rgba(0, 0, 0, 5%));\n        }\n        ::slotted(app-tab[selected]) {\n            border-bottom-color: var(--primary-color, #000);\n            font-weight: bold;\n            color: var(--primary-color, #000);\n        }\n    </style>\n    <main><slot></slot></main>\n"},165:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";var _appBar_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(70),_appBar_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_appBar_js__WEBPACK_IMPORTED_MODULE_0__),_appDataTable_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(444),_appDataTable_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_appDataTable_js__WEBPACK_IMPORTED_MODULE_1__),_appDataTablePagination_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(41),_appDataTablePagination_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_appDataTablePagination_js__WEBPACK_IMPORTED_MODULE_2__),_appLinearProgress_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(245),_appLinearProgress_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_appLinearProgress_js__WEBPACK_IMPORTED_MODULE_3__);customElements.define("fhir-bundle",class FhirBundle extends HTMLElement{constructor(){super(),this._shadow=this.attachShadow({mode:"closed"}),this._shadow.appendChild(FhirBundleTemplate.content.cloneNode(!0)),this._server=null,this._resourceType=null,this._skip=0,this._pageSize=20,this._link=null,this._count=null,this._columns=null}connectedCallback(){this._shadow.getElementById("help").addEventListener("click",(()=>{window.open(this._resourceType.profile,"_blank")})),this._shadow.getElementById("pagination").addEventListener("pagination",(({detail:e})=>{this.loadPage(e.button)})),this._shadow.getElementById("table").addEventListener("rowclick",(({detail:e})=>{this.dispatchEvent(new CustomEvent("resourceSelected",{bubbles:!1,cancelable:!1,detail:{resourceType:this._resourceType,resourceId:e.resourceId}}))}))}load(e,t){this._server=e,this._resourceType=t,this._columns=[],"Binary"===t.type&&this._columns.push({label:"Content type",expression:"contentType",type:"string"}),this._columns.push({label:"Id",expression:"id",type:"string"},{label:"Last updated",expression:"meta.lastUpdated",type:"date"});const n=this._shadow.getElementById("table");n.clear(),this._columns.forEach((e=>{n.addColumn(e.label)})),this._shadow.getElementById("title").innerText=t.type,this._skip=0,this._link={first:`${this._server.url}/${this._resourceType.type}?_count=${this._pageSize}&_summary=true`},this.loadPage()}loadPage(e="first"){switch(e){case"first":this._skip=0;break;case"previous":this._skip-=this._pageSize;break;case"next":this._skip+=this._pageSize;break;case"last":this._skip=Math.floor(this._count/this._pageSize)*this._pageSize;break;default:return}const t=this._link[e];this._shadow.getElementById("table").removeAll();const n=this._shadow.getElementById("loader");n.style.visibility="visible",this.fetchPage(t).then((e=>{e.total?(this._count=e.total,this.parsePage(e),n.style.visibility="hidden"):this.fetchCount().then((t=>{this._count=t.total,this.parsePage(e),n.style.visibility="hidden"}))}))}parsePage(data){function evalColumn(e,t){}const dataTable=this._shadow.getElementById("table"),pagination=this._shadow.getElementById("pagination");let range="0";if(0!=this._count&&(range=`${this._skip+1}-${Math.min(this._skip+this._pageSize,this._count)}`),pagination.text=`${range} of ${this._count}`,data.entry){let value="";data.entry.forEach((entry=>{if(entry.resource&&entry.resource.resourceType==this._resourceType.type){let row={};this._columns.forEach((column=>{value=eval("entry.resource."+column.expression),"date"===column.type&&(value=formatDate(value)),row[column.label]=value})),dataTable.addRow(entry.resource.id,row)}function formatDate(e){return new Date(e).toLocaleDateString(navigator.language,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})}})),this._link={},pagination.first=!1,pagination.previous=!1,pagination.next=!1,pagination.last=!1,data.link.forEach((e=>{switch(this._link[e.relation]=e.url,e.relation){case"first":pagination.first=!0;break;case"previous":pagination.previous=!0;break;case"next":pagination.next=!0;break;case"last":pagination.last=!0}}))}}async fetchPage(e){return(await fetch(e,{headers:this._server.headers})).json()}async fetchCount(){return(await fetch(`${this._server.url}/${this._resourceType.type}?_summary=count&_format=json`,{headers:this._server.headers})).json()}});const FhirBundleTemplate=document.createElement("template");FhirBundleTemplate.innerHTML='\n    <link href="./material.css" rel="stylesheet"/>\n    <style>\n        #wrapper {\n            display:flex;\n            flex-direction:column;\n            height:100%;\n        }\n        #table {\n            flex:1 1 auto;\n            height:0;\n        }\n        #title {\n            margin:0;\n        }\n    </style>\n    <div id="wrapper">\n        <app-bar>\n            <h3 slot="middle" id="title"></h3>\n            <app-round-button slot="right" id="help" title="Help" app-icon="help"></app-round-button>\n        </app-bar>\n        <app-linear-progress id="loader" style="visibility:hidden;"></app-linear-progress>\n        <app-data-table id="table">\n            <app-data-table-pagination id="pagination" slot="footer"/>\n        </app-data-table>\n    </div>\n'},883:()=>{customElements.define("fhir-resource-json",class extends HTMLElement{constructor(){super(),this._shadow=this.attachShadow({mode:"closed"}),this._shadow.appendChild(e.content.cloneNode(!0))}set source(e){const t=this._shadow.getElementById("content");for(;t.firstChild;)t.removeChild(t.lastChild);t.scrollTo(0,0),function e(t,n){let a=Array.isArray(n);t.appendChild(document.createTextNode(a?"[":"{"));let o=document.createElement("dl");for(const[t,r]of Object.entries(n)){const n=document.createElement("dt");if(!a){const e=document.createElement("span");e.innerText=`"${t}"`,n.appendChild(e),n.appendChild(document.createTextNode(": "))}if("object"==typeof r)e(n,r);else{const e=document.createElement("span");e.innerText="string"==typeof r?`"${r}"`:r,n.appendChild(e)}const i=o.lastElementChild;i&&i.nodeName==n.nodeName&&i.appendChild(document.createTextNode(",")),o.appendChild(n)}t.appendChild(o),t.appendChild(document.createTextNode(a?"]":"}"))}(t,e)}});const e=document.createElement("template");e.innerHTML='\n    <link rel="stylesheet" href="./material.css">\n    <style>\n        main {\n            display:flex;\n            flex-direction:column;\n            height:100%;\n        }\n        #content {\n            background-color: var(--background-color, inherit);\n            color: var(--text-color-normal, black);\n            flex: 1 1 auto;\n            font-family: monospace;\n            height:0;\n            overflow: auto;\n            padding: 1em;\n            white-space: nowrap;\n        }\n        dl {\n            margin: 0;\n            padding-left: 1.5em;\n        }\n        dt {\n            list-style-type: none;\n        }\n        span:first-of-type {\n            color: var(--json-viewer-properties-color, black);\n        }\n        span {\n            color: var(--json-viewer-values-color, black);\n        }\n    </style>\n    <main>\n        <div id="content"></div>\n    </main>\n'},817:()=>{customElements.define("fhir-resource-types-filter",class extends HTMLElement{constructor(){super(),this._shadow=this.attachShadow({mode:"closed"}),this._shadow.appendChild(e.content.cloneNode(!0))}connectedCallback(){const e=this._shadow.getElementById("text");function t(t){this.dispatchEvent(new CustomEvent("filterChanged",{bubbles:!1,cancelable:!1,detail:{text:e.value}}))}this._shadow.getElementById("clear").addEventListener("click",(()=>{e.value&&(e.value="",t.call(this))})),this._shadow.querySelector("main").addEventListener("mousedown",(t=>{t.preventDefault(),t.stopPropagation(),e.focus()})),e.addEventListener("input",t.bind(this))}clear(){this._shadow.getElementById("clear").click()}});const e=document.createElement("template");e.innerHTML='\n    <link href="./material.css" rel="stylesheet"/>\n    <style>\n        main {\n            background-color: rgba(var(--text-color, black), 4%);\n            border: 1px solid transparent;\n            display: flex;\n            padding: 0.7em;\n            font-size: smaller;\n        }\n        main:focus-within {\n            border-bottom-color: var(--primary-color, black);\n        }\n        #text {\n            background: none;\n            border: 0 none;\n            color: var(--text-color-normal);\n            flex: 1 1 auto;\n            font-family: inherit;\n            font-size: inherit;\n        }\n        #text:focus {\n            outline: none;\n        }\n        #clear {\n            cursor: pointer;\n            font-size: inherit;\n            line-height: unset;\n        }\n    </style>\n    <main>\n        <input id="text" type="text" placeholder="Type to filter"/>\n        <i id="clear" class="material-icons" title="clear">close</i>\n    </main>\n'}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var __webpack_exports__={};(()=>{"use strict";__webpack_require__(70),__webpack_require__(248),__webpack_require__(567),__webpack_require__(187),__webpack_require__(817),customElements.define("fhir-resource-types",class extends HTMLElement{constructor(){super(),this._shadow=this.attachShadow({mode:"closed"}),this._shadow.appendChild(e.content.cloneNode(!0)),this._metadata=null}connectedCallback(){this._shadow.getElementById("filter").addEventListener("filterChanged",(({detail:e})=>{const t=this._shadow.getElementById("list").firstElementChild,n=e.text.toLowerCase();t.childNodes.forEach((e=>{e.hidden=!e.innerText.toLowerCase().startsWith(n)}))})),this._shadow.getElementById("list").onclick=({target:e})=>{if("LI"===e.nodeName){let t=this._shadow.querySelector(".selected");t&&t.classList.remove("selected"),e.classList.add("selected"),this.dispatchEvent(new CustomEvent("resourceTypeSelected",{bubbles:!1,cancelable:!1,detail:{resourceType:this._metadata.rest[0].resource.filter((t=>t.type===e.dataset.type))[0]}}))}}}set metadata(e){this._metadata=e,this._shadow.getElementById("filter").clear();const t=this._shadow.getElementById("list");t.scrollTop=0;const n=t.firstElementChild;for(;n.firstChild;)n.removeChild(n.lastChild);e.rest[0].resource.forEach((e=>{const t=document.createElement("li");t.setAttribute("data-type",e.type),t.innerHTML=e.type,n.appendChild(t)}))}});const e=document.createElement("template");e.innerHTML='\n    <link href="./material.css" rel="stylesheet"/>\n    <style>\n        main {\n            display: flex;\n            flex-direction: column;\n            height:100%;\n        }\n        #list {\n            flex:1 1 auto;\n            height:0;\n            overflow:auto;\n        }\n        ul {\n            list-style: none;\n            padding: 0;\n            margin: 0;\n        }\n        li {\n            cursor: pointer;\n            padding: 0.3em 1em;\n        }\n        li:hover, li.selected {\n            background-color:var(--hover-color, lightgray);\n        }\n    </style>\n    <main>\n        <fhir-resource-types-filter id="filter"></fhir-resource-types-filter>\n        <div id="list"><ul></ul></div>\n    </main>\n',__webpack_require__(910),customElements.define("fhir-server-details",class extends HTMLElement{constructor(){super(),this._shadow=this.attachShadow({mode:"closed"}),this._shadow.appendChild(t.content.cloneNode(!0))}set metadata(e){const t=this._shadow.querySelector("main");for(;t.firstChild;)t.removeChild(t.lastChild);function n(e,n){if(void 0===n)return;const a=document.createElement("app-list-item"),o=document.createElement("span");o.appendChild(document.createTextNode(e)),o.slot="title",a.appendChild(o);const r=document.createElement("span");r.appendChild(document.createTextNode(n)),r.slot="subTitle",a.appendChild(r),t.appendChild(a)}n("copyright",e.copyright),n("description",e.description),n("fhirVersion",e.fhirVersion),e.implementation&&(n("implementation description",e.implementation.description),n("implementation name",e.implementation.name),n("implementation url",e.implementation.url)),n("language",e.language),n("name",e.name),n("publisher",e.publisher),e.software&&(n("software name",e.software.name),n("software version",e.software.version),n("software release date",e.software.releaseDate))}});const t=document.createElement("template");t.innerHTML="\n    <style>\n        main {\n            overflow-y: auto;\n        }\n    </style>\n    <main/>\n",customElements.define("fhir-metadata",class extends HTMLElement{constructor(){super(),this._shadow=this.attachShadow({mode:"closed"}),this._shadow.appendChild(n.content.cloneNode(!0)),this._metadata=null}connectedCallback(){this._shadow.getElementById("tabs").addEventListener("click",(({detail:e})=>{const t=e.tabId;this._shadow.getElementById("resourceTypes").hidden="tabResources"!==t,this._shadow.getElementById("serverDetails").hidden="tabDetails"!==t})),this._shadow.getElementById("resourceTypes").addEventListener("resourceTypeSelected",(({detail:e})=>{this.dispatchEvent(new CustomEvent("resourceTypeSelected",{bubbles:!1,cancelable:!1,detail:{resourceType:e.resourceType}}))}))}set metadata(e){this._shadow.getElementById("resourceTypes").metadata=e,this._shadow.getElementById("serverDetails").metadata=e}});const n=document.createElement("template");n.innerHTML='\n    <style>\n        main {\n            display:flex;\n            flex-direction: column;\n            height : 100%;\n        }\n        #tabs {\n            border-bottom:1px solid var(--border-color, gray);\n        }\n        #resourceTypes, #serverDetails {\n            flex:1 1 auto;\n            overflow: auto;\n            height:0;\n        }\n    </style>\n    <main>\n        <app-tabs id="tabs">\n            <app-tab id="tabResources" selected>Resource Types</app-tab>\n            <app-tab id="tabDetails">Details</app-tab>\n        </app-tabs>\n        <fhir-resource-types id="resourceTypes"></fhir-resource-types>\n        <fhir-server-details id="serverDetails" hidden></fhir-server-details>\n    </main>\n',customElements.define("app-left-panel",class extends HTMLElement{constructor(){super(),this._shadow=this.attachShadow({mode:"closed"}),this._shadow.appendChild(a.content.cloneNode(!0))}connectedCallback(){this._shadow.getElementById("metadata").addEventListener("resourceTypeSelected",(({detail:e})=>{this.dispatchEvent(new CustomEvent("resourceTypeSelected",{bubbles:!1,cancelable:!1,detail:{resourceType:e.resourceType}}))}))}set server(e){const t=this._shadow.getElementById("metadata"),n=this._shadow.getElementById("waiting");t.hidden=!0,n.hidden=!1,this.fetchMetadata(e).then((e=>{t.metadata=e,n.hidden=!0,t.hidden=!1}))}async fetchMetadata(e){return(await fetch(`${e.url}/metadata?_format=json`,{cache:"reload",headers:e.headers})).json()}});const a=document.createElement("template");a.innerHTML='\n    <style>\n        main {\n            height:100%;\n        }\n        #content {\n            width:300px;\n            display:flex;\n            flex-direction: column;\n            height : 100%;\n        }\n        #metadata {\n            flex: 1 1 auto;\n            height: 0;\n        }\n        app-circular-progress {\n            font-size: 2em;\n            text-align: center;\n            padding-top: 1em;\n        }\n    </style>\n    <main>\n        <div id="content">\n            <app-circular-progress id="waiting" hidden></app-circular-progress>\n            <fhir-metadata id="metadata"></fhir-metadata>\n        </div>\n    </main>\n';class o{static KEY="preferences";static get(e,t=null){const n=localStorage.getItem(o.KEY);let a=null;return null===n?t:(a=JSON.parse(n),a[e]||t)}static set(e,t){const n=localStorage.getItem(o.KEY);let a=null;a=null!==n?JSON.parse(n):{},a[e]=t,localStorage.setItem(o.KEY,JSON.stringify(a))}}__webpack_require__(165),__webpack_require__(586),__webpack_require__(883);var r=Object.prototype.toString,i=Array.isArray||function(e){return"[object Array]"===r.call(e)};function s(e){return"function"==typeof e}function l(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function d(e,t){return null!=e&&"object"==typeof e&&t in e}var c=RegExp.prototype.test,h=/\S/;var p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},u=/\s*/,m=/\s+/,_=/\s*=/,b=/\s*\}/,f=/#|\^|\/|>|\{|&|=|!/;function g(e){this.string=e,this.tail=e,this.pos=0}function w(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function y(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}g.prototype.eos=function(){return""===this.tail},g.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},g.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},w.prototype.push=function(e){return new w(e,this)},w.prototype.lookup=function(e){var t,n,a,o=this.cache;if(o.hasOwnProperty(e))t=o[e];else{for(var r,i,l,c=this,h=!1;c;){if(e.indexOf(".")>0)for(r=c.view,i=e.split("."),l=0;null!=r&&l<i.length;)l===i.length-1&&(h=d(r,i[l])||(n=r,a=i[l],null!=n&&"object"!=typeof n&&n.hasOwnProperty&&n.hasOwnProperty(a))),r=r[i[l++]];else r=c.view[e],h=d(c.view,e);if(h){t=r;break}c=c.parent}o[e]=t}return s(t)&&(t=t.call(this.view)),t},y.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},y.prototype.parse=function(e,t){var n=this.templateCache,a=e+":"+(t||v.tags).join(":"),o=void 0!==n,r=o?n.get(a):void 0;return null==r&&(r=function(e,t){if(!e)return[];var n,a,o,r,s=!1,d=[],p=[],w=[],y=!1,E=!1,x="",k=0;function T(){if(y&&!E)for(;w.length;)delete p[w.pop()];else w=[];y=!1,E=!1}function C(e){if("string"==typeof e&&(e=e.split(m,2)),!i(e)||2!==e.length)throw new Error("Invalid tags: "+e);n=new RegExp(l(e[0])+"\\s*"),a=new RegExp("\\s*"+l(e[1])),o=new RegExp("\\s*"+l("}"+e[1]))}C(t||v.tags);for(var L,I,B,S,M,P,j=new g(e);!j.eos();){if(L=j.pos,B=j.scanUntil(n))for(var H=0,N=B.length;H<N;++H)r=S=B.charAt(H),function(e,t){return c.call(e,t)}(h,r)?(E=!0,s=!0,x+=" "):(w.push(p.length),x+=S),p.push(["text",S,L,L+1]),L+=1,"\n"===S&&(T(),x="",k=0,s=!1);if(!j.scan(n))break;if(y=!0,I=j.scan(f)||"name",j.scan(u),"="===I?(B=j.scanUntil(_),j.scan(_),j.scanUntil(a)):"{"===I?(B=j.scanUntil(o),j.scan(b),j.scanUntil(a),I="&"):B=j.scanUntil(a),!j.scan(a))throw new Error("Unclosed tag at "+j.pos);if(M=">"==I?[I,B,L,j.pos,x,k,s]:[I,B,L,j.pos],k++,p.push(M),"#"===I||"^"===I)d.push(M);else if("/"===I){if(!(P=d.pop()))throw new Error('Unopened section "'+B+'" at '+L);if(P[1]!==B)throw new Error('Unclosed section "'+P[1]+'" at '+L)}else"name"===I||"{"===I||"&"===I?E=!0:"="===I&&C(B)}if(T(),P=d.pop())throw new Error('Unclosed section "'+P[1]+'" at '+j.pos);return function(e){for(var t,n=[],a=n,o=[],r=0,i=e.length;r<i;++r)switch((t=e[r])[0]){case"#":case"^":a.push(t),o.push(t),a=t[4]=[];break;case"/":o.pop()[5]=t[2],a=o.length>0?o[o.length-1][4]:n;break;default:a.push(t)}return n}(function(e){for(var t,n,a=[],o=0,r=e.length;o<r;++o)(t=e[o])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(a.push(t),n=t));return a}(p))}(e,t),o&&n.set(a,r)),r},y.prototype.render=function(e,t,n,a){var o=this.getConfigTags(a),r=this.parse(e,o),i=t instanceof w?t:new w(t,void 0);return this.renderTokens(r,i,n,e,a)},y.prototype.renderTokens=function(e,t,n,a,o){for(var r,i,s,l="",d=0,c=e.length;d<c;++d)s=void 0,"#"===(i=(r=e[d])[0])?s=this.renderSection(r,t,n,a,o):"^"===i?s=this.renderInverted(r,t,n,a,o):">"===i?s=this.renderPartial(r,t,n,o):"&"===i?s=this.unescapedValue(r,t):"name"===i?s=this.escapedValue(r,t,o):"text"===i&&(s=this.rawValue(r)),void 0!==s&&(l+=s);return l},y.prototype.renderSection=function(e,t,n,a,o){var r=this,l="",d=t.lookup(e[1]);if(d){if(i(d))for(var c=0,h=d.length;c<h;++c)l+=this.renderTokens(e[4],t.push(d[c]),n,a,o);else if("object"==typeof d||"string"==typeof d||"number"==typeof d)l+=this.renderTokens(e[4],t.push(d),n,a,o);else if(s(d)){if("string"!=typeof a)throw new Error("Cannot use higher-order sections without the original template");null!=(d=d.call(t.view,a.slice(e[3],e[5]),(function(e){return r.render(e,t,n,o)})))&&(l+=d)}else l+=this.renderTokens(e[4],t,n,a,o);return l}},y.prototype.renderInverted=function(e,t,n,a,o){var r=t.lookup(e[1]);if(!r||i(r)&&0===r.length)return this.renderTokens(e[4],t,n,a,o)},y.prototype.indentPartial=function(e,t,n){for(var a=t.replace(/[^ \t]/g,""),o=e.split("\n"),r=0;r<o.length;r++)o[r].length&&(r>0||!n)&&(o[r]=a+o[r]);return o.join("\n")},y.prototype.renderPartial=function(e,t,n,a){if(n){var o=this.getConfigTags(a),r=s(n)?n(e[1]):n[e[1]];if(null!=r){var i=e[6],l=e[5],d=e[4],c=r;0==l&&d&&(c=this.indentPartial(r,d,i));var h=this.parse(c,o);return this.renderTokens(h,t,n,c,a)}}},y.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},y.prototype.escapedValue=function(e,t,n){var a=this.getConfigEscape(n)||v.escape,o=t.lookup(e[1]);if(null!=o)return"number"==typeof o&&a===v.escape?String(o):a(o)},y.prototype.rawValue=function(e){return e[1]},y.prototype.getConfigTags=function(e){return i(e)?e:e&&"object"==typeof e?e.tags:void 0},y.prototype.getConfigEscape=function(e){return e&&"object"==typeof e&&!i(e)?e.escape:void 0};var v={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){E.templateCache=e},get templateCache(){return E.templateCache}},E=new y;v.clearCache=function(){return E.clearCache()},v.parse=function(e,t){return E.parse(e,t)},v.render=function(e,t,n,a){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(i(o=e)?"array":typeof o)+'" was given as the first argument for mustache#render(template, view, partials)');var o;return E.render(e,t,n,a)},v.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,(function(e){return p[e]}))},v.Scanner=g,v.Context=w,v.Writer=y;const x=v;customElements.define("fhir-resource-html",class extends HTMLElement{constructor(){super(),this._shadow=this.attachShadow({mode:"closed"}),this._shadow.appendChild(k.content.cloneNode(!0))}set source(e){let t="<i>Work in progress</i>";"Binary"===e.resourceType&&(t=function(){const t='<img src="data:{{contentType}};base64,{{data}}"/>',n="<label>Id: </label><span>{{id}}</span><br/>\n                            <label>Version: </label><span>{{meta.versionId}}</span><br/>\n                            <label>lastUpdated: </label><span>{{meta.lastUpdated}}</span><br/>\n                            <pre><code>{{data}}</code></pre>";let a="<label>Id: </label><span>{{id}}</span><br/>\n                            <label>Version: </label><span>{{meta.versionId}}</span><br/>\n                            <label>lastUpdated: </label><span>{{meta.lastUpdated}}</span><br/>\n                            <pre>{{data}}</pre>",o=Object.assign({},e);if(o.data)switch(e.contentType){case"application/xml":a=n,o.data=window.atob(o.data);break;case"image/jpeg":case"image/png":case"image/webp":case"image/tiff":a=t;break;default:o.data=window.atob(o.data)}return x.render(a,o)}()),this._shadow.getElementById("content").innerHTML=t}});const k=document.createElement("template");k.innerHTML='\n    <link rel="stylesheet" href="./material.css">\n    <style>\n        main {\n            display:flex;\n            flex-direction:column;\n            height:100%;\n        }\n        #content {\n            padding: 1em;\n            flex: 1 1 auto;\n            height:0;\n            overflow: auto;\n            min-width: 50%;\n        }\n        #content pre {\n            background-color:#fff;\n            border-radius: 4px;\n            box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%), 0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n            font-family: monospace;\n            padding: 0.5em;\n            color: black;\n            overflow:auto;\n        }\n        #content img {\n            background-color:#fff;\n            border-radius: 4px;\n            box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%), 0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n            max-width: 100%;\n        }\n    </style>\n    <main>\n        <div id="content"></div>\n    </main>\n',customElements.define("fhir-resource",class extends HTMLElement{constructor(){super(),this._shadow=this.attachShadow({mode:"closed"}),this._shadow.appendChild(T.content.cloneNode(!0)),this._resourceType=null,this._resourceId=null}connectedCallback(){this._shadow.getElementById("back").addEventListener("click",(()=>{this.dispatchEvent(new CustomEvent("back",{bubbles:!1,cancelable:!1}))})),this._shadow.getElementById("help").addEventListener("click",(()=>{window.open(`${this._resourceType.profile}#resource`,"_blank")})),this._shadow.getElementById("download").addEventListener("click",(()=>{const e=new File([JSON.stringify(this._resource)],this._resource.id,{type:"data:text/json;charset=utf-8"}),t=URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download=`${this._resourceType.type}#${e.name}.json`,this._shadow.appendChild(n),n.click(),this._shadow.removeChild(n),window.URL.revokeObjectURL(t)})),this._shadow.getElementById("copy").addEventListener("click",(()=>{navigator.clipboard.writeText(JSON.stringify(this._resource)).then((function(){console.log("Async: Copying to clipboard was successful!")}),(function(e){console.error("Async: Could not copy text: ",e)}))})),this._shadow.getElementById("share").addEventListener("click",(()=>{const e=`${this._resourceType.type}.${this._resource.id}.txt`,t=new File([JSON.stringify(this._resource)],e,{type:"text/plain"});navigator.share({title:e,files:[t]}).then((()=>{console.log("sharing was successful!")}),(e=>{console.error("Could not share resource: ",e)}))})),this._shadow.getElementById("tabs").addEventListener("click",(({detail:e})=>{const t=e.tabId;this._shadow.getElementById("jsonView").hidden="tabJson"!==t,this._shadow.getElementById("htmlView").hidden="tabHtml"!==t}))}load({server:e,resourceType:t,resourceId:n}){this._resourceType=t,this._resourceId=n;const a=this._shadow.getElementById("header"),o=this._shadow.getElementById("tabs"),r=this._shadow.getElementById("jsonView"),i=this._shadow.getElementById("htmlView"),s=this._shadow.getElementById("share"),l=this._shadow.getElementById("copy"),d=this._shadow.getElementById("download");this._shadow.getElementById("title").innerText=t.type,this.fetchResource(e,t,n).then((e=>{a.classList.remove("error"),this._shadow.getElementById("error").hidden=!0,o.hidden=!1,o.select("tabJson"),this._resource=e,r.source=e,i.source=e,s.hidden=!1,l.hidden=!1,d.hidden=!1})).catch((e=>{a.classList.add("error");const t=this._shadow.getElementById("error");t.hidden=!1,t.innerText=e,o.hidden=!0,r.hidden=!0,i.hidden=!0,this._resource=null,s.hidden=!0,l.hidden=!0,d.hidden=!0}))}async fetchResource(e,t,n){return(await fetch(`${e.url}/${t.type}/${n}?_format=json`,{headers:e.headers})).json()}});const T=document.createElement("template");T.innerHTML='\n    <link rel="stylesheet" href="./material.css">\n    <style>\n        #wrapper {\n            display:flex;\n            flex-direction: column;\n            height : 100%;\n        }\n        #title {\n            margin:0;\n        }\n        #tabs {\n            border-bottom:1px solid var(--border-color, gray);\n        }\n        #jsonView {\n            flex:1 1 auto;\n            height:0;\n        }\n        #htmlView {\n            flex:1 1 auto;\n            height:0;\n        }\n        #header.error {\n            background-color: var(--background-error, transparent);\n            color: white;\n        }\n        #error {\n            padding: 1em;\n        }\n    </style>\n    <div id="wrapper">\n        <app-bar id="header">\n            <app-round-button slot="left" id="back" title="back" app-icon="arrow_back"></app-round-button>\n            <h3 slot="middle" id="title"></h3>\n            <app-round-button slot="right" id="share" title="Share" app-icon="share"></app-round-button>\n            <app-round-button slot="right" id="copy" title="Copy to clipboard" app-icon="content_copy"></app-round-button>\n            <app-round-button slot="right" id="download" title="Download" app-icon="download"></app-round-button>\n            <app-round-button slot="right" id="help" title="Help" app-icon="help"></app-round-button>\n        </app-bar>\n        <app-tabs id="tabs">\n            <app-tab id="tabJson" selected>Json</app-tab>\n            <app-tab id="tabHtml">Html</app-tab>\n        </app-tabs>\n        <fhir-resource-json id="jsonView"></fhir-resource-json>\n        <fhir-resource-html id="htmlView" hidden></fhir-resource-html>\n        <span id="error"></span>\n    </div>\n',customElements.define("fhir-server",class extends HTMLElement{constructor(){super(),this._shadow=this.attachShadow({mode:"closed"}),this._shadow.appendChild(C.content.cloneNode(!0))}connectedCallback(){const e=this._shadow.getElementById("content");this._shadow.getElementById("close").addEventListener("click",(()=>{this.hidden=!0})),this._shadow.querySelector("main").addEventListener("click",(()=>{this.hidden=!0})),this._shadow.querySelector(".surface").addEventListener("click",(e=>{e.stopPropagation()})),e.addEventListener("click",(({target:t})=>{const n=t.closest("app-list-item");if(n){const t=e.querySelector(".selected");t&&t.classList.remove("selected"),n.classList.add("selected"),this.serverChanged(n.dataset.id),this.hidden=!0}})),this.loadConf().then((e=>{this._conf=e;const t=o.get("server"),n=this._shadow.getElementById("content");for(const a of Object.keys(e).sort()){const e=document.createElement("app-list-item");e.setAttribute("data-id",a),a===t&&e.classList.add("selected");const o=document.createElement("span");o.appendChild(document.createTextNode(a)),o.slot="title",e.appendChild(o);const r=document.createElement("span");r.appendChild(document.createTextNode(this._conf[a].url)),r.slot="subTitle",e.appendChild(r),n.appendChild(e)}null!=t?this.serverChanged(t):this.hidden=!1}))}serverChanged(e){const t=this._conf[e];this.connect(t),this.dispatchEvent(new CustomEvent("serverchanged",{bubbles:!1,cancelable:!1,detail:{serverCode:e,server:t}})),o.set("server",e)}connect(e){if(e.auth)switch(e.auth.method){case"oauth2":this.oauth2_getToken(e.auth.setup).then((t=>{e.headers.Authorization=`${t.token_type} ${t.access_token}`}));break;case"basic":let t=btoa(`${e.auth.setup.username}:${e.auth.setup.password}`);e.headers.Authorization=`Basic ${t}`}}async oauth2_getToken(e){let t={client_id:e.client_id,client_secret:e.client_secret,grant_type:e.grant_type,username:e.username,password:e.password},n=new URLSearchParams(t);return(await fetch(e.access_token_url,{headers:{"Content-type":"application/x-www-form-urlencoded"},method:"POST",body:n.toString()})).json()}async loadConf(){let e=localStorage.getItem("conf");return null===e?await fetch("./default.conf",{cache:"reload"}).then((e=>e.json())).then((e=>(localStorage.setItem("conf",JSON.stringify(e)),e))):JSON.parse(e)}});const C=document.createElement("template");C.innerHTML='\n    <link rel="stylesheet" href="./material.css">\n    <style>\n        main {\n            position: absolute;\n            top: 0;\n            left:0;\n            background-color: rgba(0,0,0,32%);\n            min-height: 100%;\n            min-width: 100%;\n        }\n        .surface {\n            background-color: var(--background-color, white);\n            border-radius: 4px;\n            height: 50%;\n            min-width: 20%;\n            position: absolute;\n            top: 60px;\n            right: 1em;\n        }\n        .overlay {\n            background-color: rgba(255,255,255,4%);\n            color:var(--text-color-normal, white);\n            display:flex;\n            flex-direction: column;\n            font-family: Roboto, Arial, monospace;\n            height: 100%;\n        }\n        app-bar {\n            border-bottom: 1px solid var(--border-color);\n        }\n        #content {\n            overflow:auto;\n            flex: 1 1 auto;\n            height: 0;\n        }\n        app-list-item {\n            cursor: pointer;\n        }\n        app-list-item.selected {\n            background-color: var(--hover-color, rgba(0, 0, 0, 5%));\n        }\n        #actions {\n            border-top: 1px solid var(--border-color);\n            padding: 0.5em 1em;\n            text-align: center;\n            overflow: hidden;\n        }\n        #actions input[type=button] {\n            background: none;\n            border: 1px solid var(--primary-color);\n            border-radius: 4px;\n            color: var(--primary-color);\n            cursor: pointer;\n            font: inherit;\n            padding: 5px 16px;\n            text-transform: uppercase;\n        }\n        #actions input[type=button]:hover {\n            background-color: var(--hover-color);\n        }\n        @media (max-width:480px){\n            .surface {\n                top:0;\n                left:0;\n                height: 100%;\n                width:100%;\n                max-width: unset;\n                max-height: unset;\n            }\n            .overlay {\n                background-color: transparent;\n            }\n        }\n    </style>\n    <main>\n        <div class="surface">\n            <div class="overlay">\n                <app-bar id="header">\n                    <app-round-button id="close" title="Close" app-icon="close" slot="left"></app-round-button>\n                    <h3 id="title" slot="middle">Connections</h3>\n                </app-bar>\n                <div id="content"></div>\n                <div id="actions">\n                    <input type="button" value="New connection"></input>\n                <div>\n            </div>\n        </div>\n    </main>\n',"serviceWorker"in navigator&&navigator.serviceWorker.register("./service-worker.js");const L=document.createElement("template");L.innerHTML='\n    <link rel="stylesheet" href="./material.css">\n    <style>\n        #app {\n            display: flex;\n            flex-direction: column;\n            height: 100vh;\n            font-family: Roboto, Arial, monospace;\n            font-size: 1rem;\n            font-weight: 400;\n            line-height: 1.5;\n            background-color: var(--background-color, rgb(255,255,255));\n            color: var(--text-color-normal, rgb(0,0,0,87%));\n        }\n        #header {\n            background-color: var(--primary-color, #000);\n            color:#FFF;\n        }\n        h3 {\n            margin:0;\n        }\n        #content {\n            flex:1 1 auto;\n            overflow: auto;\n            height : 0;\n        }\n        #content > div {\n            display:flex;\n            flex-direction: row;\n            height : 100%;\n        }\n        #leftPanel {\n            border-right:1px solid var(--border-color, gray);\n        }\n        #bdy {\n            overflow: hidden;\n            flex: 1 1 auto;\n            width: 0;\n        }\n        @media (max-width:480px){\n            #leftPanel {\n                height: calc(100% - 56px - 1px);\n                position: absolute;\n                background-color: var(--background-color, rgb(255,255,255));\n            }\n        }\n    </style>\n    <div id="app">\n        <app-bar id="header" caption="">\n            <app-round-button slot="left" id="navigation" title="Menu" app-icon="menu"></app-round-button>\n            <h3 slot="middle">FHIR Browser</h3>\n            <app-round-button slot="right" id="colorScheme" title="Theme" app-icon="brightness_auto"></app-round-button>\n            <app-round-button slot="right" id="serverSelectorToggle" title="Connections" app-icon="public"></app-round-button>\n        </app-bar>\n        <div id="content">\n            <div>\n                <app-left-panel id="leftPanel" hidden></app-left-panel>\n                <div id="bdy">\n                    <fhir-bundle id="bundle" hidden></fhir-bundle>\n                    <fhir-resource id="resource" hidden></fhir-resource>\n                </div>\n            </div>\n        </div>\n    </div>\n    <fhir-server id="serverSelector" hidden></fhir-server>\n',customElements.define("fhir-browser",class extends HTMLElement{constructor(){super(),this._shadow=this.attachShadow({mode:"closed"}),this._shadow.appendChild(L.content.cloneNode(!0)),this._server=null}connectedCallback(){const e=this._shadow.getElementById("leftPanel"),t=this._shadow.getElementById("bundle"),n=this._shadow.getElementById("resource");this._shadow.getElementById("navigation").addEventListener("click",(()=>{e.hidden=!e.hidden})),this._shadow.getElementById("leftPanel").addEventListener("resourceTypeSelected",(({detail:a})=>{window.matchMedia("(max-width: 480px)").matches&&(e.hidden=!0),n.hidden=!0,t.hidden=!1,t.load(this._server,a.resourceType)})),this._shadow.getElementById("serverSelector").addEventListener("serverchanged",(({detail:a})=>{this._server=a.server,e.server=a.server,e.hidden=!1,t.hidden=!0,n.hidden=!0})),n.addEventListener("back",(()=>{n.hidden=!0,t.hidden=!1})),t.addEventListener("resourceSelected",(({detail:e})=>{t.hidden=!0,n.hidden=!1,n.load({server:this._server,resourceType:e.resourceType,resourceId:e.resourceId})})),this.setColorScheme(o.get("colorScheme","auto")),this._shadow.getElementById("colorScheme").addEventListener("click",(()=>{let e=o.get("colorScheme","auto");switch(e){case"dark":e="auto";break;case"light":e="dark";break;default:e="light"}o.set("colorScheme",e),this.setColorScheme(e)})),this._shadow.getElementById("serverSelectorToggle").addEventListener("click",(()=>{this._shadow.getElementById("serverSelector").hidden=!1}))}setColorScheme(e){let t="",n=e;switch(e){case"dark":t="brightness_4";break;case"light":t="light_mode";break;default:"auto"===e&&(n=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),t="brightness_auto"}const a=this._shadow.getElementById("colorScheme");a.setAttribute("app-icon",t),a.title=`Theme ${e}`,document.body.setAttribute("color-scheme",n)}})})()})();